{% extends 'base.html' %}

{% block content %}
<div class="row align-items-center mb-5 hero-section" style="min-height: 70vh;">
    <div class="col-lg-6 text-start z-index-1">
        <span class="badge bg-info bg-opacity-10 text-info border border-info border-opacity-25 px-3 py-2 rounded-pill mb-3">
            <i class="fas fa-bolt me-2"></i> Real-time Price Tracking
        </span>
        <h1 class="display-3 fw-bold mb-4 lh-sm">
            Travel Farther.<br>
            <span style="color: var(--accent);">Pay Less.</span>
        </h1>
        <p class="lead text-muted mb-4" style="max-width: 500px;">
            Stop refreshing airline sites. ManifestAir tracks prices 24/7 across hundreds of providers and alerts you the moment they drop.
        </p>
        <div class="d-flex gap-3">
            {% if g.user %}
                <a href="{{ url_for('traveler.search') }}" class="neo-btn px-5 py-3 shadow-lg">
                    <i class="fas fa-search me-2"></i> Start Searching
                </a>
            {% else %}
                <a href="{{ url_for('auth.register') }}" class="neo-btn px-5 py-3 shadow-lg">
                    Get Started Free
                </a>
                <a href="{{ url_for('auth.login') }}" class="btn btn-outline-light px-4 py-3 rounded-pill border-0">
                    <i class="fas fa-sign-in-alt me-2"></i> Login
                </a>
            {% endif %}
        </div>
    </div>
    
    <div class="col-lg-6 text-center d-none d-lg-block position-relative">
         <div class="floating-card neo-card p-4 d-inline-block text-start" style="position: absolute; top: 10%; right: 10%; width: 280px;">
            <div class="d-flex justify-content-between mb-2">
                <small class="text-muted">JFK <i class="fas fa-arrow-right mx-1"></i> LHR</small>
                <span class="text-success fw-bold">-25%</span>
            </div>
            <h3 class="mb-0">$450</h3>
            <small class="text-success">Price drop detected!</small>
         </div>
    </div>
</div>

<div class="row mb-5">
    <div class="col-12 mb-4">
        <h3 class="fw-bold">Popular Destinations from Canada</h3>
        <p class="text-muted">Trending flights tracked by our users this week.</p>
    </div>
    
    {% for dest in destinations %}
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card border-0 h-100 shadow-sm overflow-hidden destination-card text-white">
            <img src="{{ dest.image }}" class="card-img h-100 object-fit-cover" alt="{{ dest.city }}" style="filter: brightness(0.7);">
            <div class="card-img-overlay d-flex flex-column justify-content-end p-4">
                <h4 class="card-title fw-bold mb-0">{{ dest.city }}</h4>
                <p class="card-text small opacity-75 mb-2">{{ dest.country }}</p>
                <div class="d-flex justify-content-between align-items-center mt-2">
                    <span class="fw-bold fs-5">${{ dest.price }}</span>
                    {% if g.user %}
                    <form action="{{ url_for('traveler.search') }}" method="post"> <input type="hidden" name="destination" value="{{ dest.city }}">
                         <button class="btn btn-sm btn-light rounded-circle"><i class="fas fa-arrow-right"></i></button>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<div class="row py-5">
    <div class="col-md-4 text-center mb-4">
        <div class="neo-card p-4 h-100 hover-lift">
            <i class="fas fa-bell fa-3x mb-3" style="color: var(--accent);"></i>
            <h5>Smart Alerts</h5>
            <p class="text-muted small">Set your price threshold and get notified via email instantly when deals appear.</p>
        </div>
    </div>
    <div class="col-md-4 text-center mb-4">
        <div class="neo-card p-4 h-100 hover-lift">
            <i class="fas fa-chart-line fa-3x mb-3" style="color: var(--accent);"></i>
            <h5>Price History</h5>
            <p class="text-muted small">We analyze historical data to tell you if it's the right time to buy or wait.</p>
        </div>
    </div>
    <div class="col-md-4 text-center mb-4">
        <div class="neo-card p-4 h-100 hover-lift">
            <i class="fas fa-globe-americas fa-3x mb-3" style="color: var(--accent);"></i>
            <h5>Global Coverage</h5>
            <p class="text-muted small">From budget airlines to luxury carriers, we aggregate data from the entire web.</p>
        </div>
    </div>
</div>
{% endblock %}